# @douro-ui/avatar

Douro UI is a Metyis Design System with React components to be used in projects.

## Installation

This packages has the following peer dependencies, so please don't forget to install them:

- react: 18.2.0
- react-dom: 18.2.0

**yarn**

```sh
yarn add -W @douro-ui/avatar react@18.2.0 react-dom@18.2.0
```

**npm**

```sh
npm i @douro-ui/avatar react@18.2.0 react-dom@18.2.0
```

## Usage

```js
import Avatar from '@douro-ui/avatar';
import type { AvatarProps } from '@douro-ui/avatar';
```

or

```js
import Avatar { AvatarProps } from '@douro-ui/avatar';
```

### Example with base Avatar without custom properties

```js
import React from 'react';
import Avatar from '@douro-ui/avatar';

const ExampleAvatar = () => {
  return <Avatar />;
};

export default ExampleAvatar;
```

### Example with image Avatar without custom properties

```js
import React from 'react';
import Avatar from '@douro-ui/avatar';

const ExampleAvatar = () => {
  return (
    <Avatar
      src="path/to/image.jpg"
      alt="User Avatar"
      fallbackText="Fallback Text"
    />
  );
};

export default ExampleAvatar;
```

### Example with base Avatar with custom properties

```js
import React from 'react';
import Avatar from '@douro-ui/avatar';

const ExampleAvatar = () => {
  return <Avatar size="sm" />;
};

export default ExampleAvatar;
```

### Example with image Avatar with custom properties

```js
import React from 'react';
import Avatar from '@douro-ui/avatar';

const ExampleAvatar = () => {
  return (
    <Avatar
      size="xl"
      src="path/to/image.jpg"
      alt="User Avatar"
      fallbackText="Fallback Text"
    />
  );
};

export default ExampleAvatar;
```

### Example with group Avatar

```js
import React from 'react';
import AvatarGroup from '@douro-ui/avatar';

const avatars = [
  { src: 'user1.jpg', alt: 'User 1' },
  { src: 'user2.jpg', alt: 'User 2' },
  { src: 'user3.jpg', alt: 'User 3' },
  { src: 'user4.jpg', alt: 'User 4' },
  { src: 'user5.jpg', alt: 'User 5' },
  { src: 'user6.jpg', alt: 'User 6' },
];

const ExampleAvatarGroup = () => {
  return <AvatarGroup avatars={avatars} maxVisible={4} />;
};

export default ExampleAvatarGroup;
```

### Fallback Avatar

The FallbackAvatar is used inside AvatarGroup to show how many avatars are hidden. It displays the number of additional avatars with a customizable style.

#### Props

##### Avatar Props

| Prop        | Type    | default | Description                                                                                  |
| ----------- | ------- | ------- | -------------------------------------------------------------------------------------------- |
| size        | string  | 'lg'    | The size of the avatar. Options: 'sm', 'md', 'lg', 'xl'.                                     |
| src         | string  | N/A     | The source URL of the image to display. If it is set the type of avatar render will be image |
| alt         | string  | ''      | Alternative text for the image.                                                              |
| fallback    | string  | ''      | Alternative text for the image error                                                         |
| hasFilter   | boolean | false   | Determines if a color filter will be applied to the avatar when an image is displayed.       |
| filterTypes | string  | 'none'  | Defines the type of filter to apply: 'none', 'green', 'blue', 'blueNavy'.                    |

### Customization

To customize the behavior or appearance of the toasters, see the main files below:

- Avatar.tsx: Main Avatar component. Here you can change the structure and rendering logic of the avatar.

- AvatarTypes folder contains different avatar implementations to provide flexibility in rendering. BaseAvatar: This is the default avatar that is rendered when no image is provided. It uses the fallback text or children as content and applies a random background color generated by getRandomColor. This is useful for avatars that don’t rely on an image, giving them a consistent look with brand colors. AvatarImage: This avatar type is rendered when an image is provided via the src prop. The getFilterColor function is applied if a filter is enabled, allowing for dynamic image customization based on user preferences. FallbackAvatar: This avatar is used in group avatar components or when there are multiple avatars that exceed the visible limit. It shows the remaining count of avatars that aren’t displayed (e.g., +3). You can modify its style in FallbackAvatarStyled.

- avatar.styles.ts: Contains the styled-components for the Avatar. You can modify the styles to adjust the appearance of the avatar.

- avatar.types.ts: This file defines the types used in the Avatar component, including AvatarProps and AvatarStyledProps. You can add or modify types here to extend functionality or adjust component props.

- getRandomColor: This utility function randomly selects a background color for the avatar when no image is provided. It pulls from a predefined set of colors from the theme and returns the default, hover, and active color shades.

- getBadgeSizeFromAvatarSize: This function dynamically determines the size of the badge associated with the avatar based on the avatar's size. It supports various avatar sizes, including xxs, xs, sm, md, lg, xl, and xxl.

- getFilterColor: This function applies a color filter to the avatar when an image is displayed and the hasFilter property is enabled. You can customize the filter types such as 'green', 'blue', 'blueNavy', or 'none'.
